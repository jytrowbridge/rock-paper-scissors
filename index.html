<!DOCTYPE html>
<html>
    <head>

    </head>
    <body>
    <script>
        function getRndInteger(min, max) {
            return Math.floor(Math.random() * (max - min) ) + min;
        }

        function toCapitalCase(s) {
            return s[0].toUpperCase() + s.slice(1).toLowerCase()
        }
        
        let playOptions = ['rock', 'paper', 'scissors']
        
        function computerPlay () {
            // randomly selects 
            return playOptions[getRndInteger(0,playOptions.length)]
        }

        function playRound(playerSelection, computerSelection) {
            // returns 'win', 'lose', 'tie', or 'invalid'
            playerSelection = playerSelection.toLowerCase()
            if (playOptions.indexOf(playerSelection) == -1) {
                return 'invalid'
            } 
            return isWin(playerSelection, computerSelection) ? 'win'
                 : isWin(computerSelection, playerSelection) ? 'lose'
                 : 'tie'
        }

        function isWin(throw1, throw2) {
            // returns True if throw1 wins, False otherwise
            if ((throw1 == 'rock' && throw2 == 'scissors')
                || (throw1 == 'paper' && throw2 == 'rock')
                || (throw1 == 'scissors' && throw2 == 'paper')) {
                return true;
            } else {
                return false;
            }                    
        }

        function game() {
            // Plays a 5-round game of rock, paper, scissors
            let playerWins = computerWins = numRounds = 0
            while (playerWins < 5 && computerWins < 5) {
                let playerSelection = prompt('Please pick Rock, Paper, or Scissors')
                let computerSelection = computerPlay()
                result = playRound(playerSelection, computerSelection)
                let msg;
                if (result == 'invalid') {
                    console.log('Invalid input. Please enter Rock, Paper, or Scissors')
                    continue;
                } else if (result == 'win') {
                    playerWins++
                    msg = `You Win The Round! ${toCapitalCase(playerSelection)} beats ${toCapitalCase(computerSelection)}.`
                } else if (result == 'lose') {
                    computerWins++
                    msg = `You Lose The Round! ${toCapitalCase(computerSelection)} beats ${toCapitalCase(playerSelection)}.`
                } else if (result == 'tie') {
                    msg = `You Tie The Round! You both chose ${toCapitalCase(computerSelection)}.`
                }
                console.log(msg + ` Player: ${playerWins}, Computer: ${computerWins}`)
                numRounds++
            }
            if (playerWins == 5) {
                console.log(`You win the game ${playerWins} to ${computerWins} in ${numRounds}.`)
            } else if (computerWins == 5) {
                console.log(`You lose the game ${computerWins} to ${playerWins} in ${numRounds} rounds.`)
            }
        }
        //game()

    </script>
    </body>
</html>